/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { testPartManagementSearchTestParts } from "../../funcs/testPartManagementSearchTestParts.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.SearchTestPartsRequest$inboundSchema,
};

export const tool$testPartManagementSearchTestParts: ToolDefinition<
  typeof args
> = {
  name: "test-part-management-search-test-parts",
  description: `Search and filter test parts within an assessment test

Get all test parts within an assessment test with support for filtering by navigation mode, submission mode, and text search. Test parts are organizational units that group sections and define testing behaviors like linear/nonlinear navigation.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await testPartManagementSearchTestParts(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
